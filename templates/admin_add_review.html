{% extends "base.html" %}
{% load static %}
{% block title %}Add Performance Review{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto">
  <div class="bg-slate-800 border border-slate-700 shadow rounded-lg p-6">
    <h1 class="text-2xl font-semibold text-slate-100 mb-4">Add Performance Review</h1>

    {% if messages %}
      <div class="mb-4 space-y-2">
        {% for msg in messages %}
          <div class="p-3 rounded-md {% if msg.tags == 'error' %}bg-red-900/40 text-red-300 border border-red-700{% else %}bg-slate-700 text-slate-200 border border-slate-600{% endif %}">
            {{ msg }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <label class="block">
        <span class="text-sm font-medium text-slate-300">Employee</span>
        <select name="employeeid" required class="mt-1 block w-full rounded-md bg-slate-700 text-slate-100 border border-slate-600 px-3 py-2">
          <option value="">— select employee —</option>
          {% for emp in employees %}
            <option value="{{ emp.employeeid }}">{{ emp.employeeid }} — {{ emp.name }}</option>
          {% endfor %}
        </select>
      </label>

      <label class="block">
        <span class="text-sm font-medium text-slate-300">Performance (short summary)</span>
        <textarea name="performance" rows="3" class="mt-1 block w-full rounded-md bg-slate-700 text-slate-100 border border-slate-600 px-3 py-2"></textarea>
      </label>

      <label class="block">
        <span class="text-sm font-medium text-slate-300">Feedbacks (detailed)</span>
        <textarea name="feedbacks" rows="5" class="mt-1 block w-full rounded-md bg-slate-700 text-slate-100 border border-slate-600 px-3 py-2"></textarea>
      </label>

      <div class="flex items-center space-x-3">
        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Save Review</button>
        <a href="{% url 'homeadmin' %}" class="text-sm text-slate-400 hover:text-slate-200">Back to Admin</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
